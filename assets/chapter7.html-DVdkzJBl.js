import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,d as a,o as n}from"./app-qOQMBkXC.js";const e={};function i(l,t){return n(),s("div",null,t[0]||(t[0]=[a(`<h2 id="章节总览" tabindex="-1"><a class="header-anchor" href="#章节总览"><span>章节总览</span></a></h2><p>本章建立从需求澄清→指标体系→评测集→迭代节奏→资产沉淀→交付与回归的一套闭环方法论，让技术决策基于指标与风险敞口，而非经验臆测。核心理念：可量化、可比较、可复用、可追溯。</p><h2 id="需求澄清-canvas" tabindex="-1"><a class="header-anchor" href="#需求澄清-canvas"><span>需求澄清 Canvas</span></a></h2><table><thead><tr><th>维度</th><th>要素</th><th>问题提示</th><th>示例</th></tr></thead><tbody><tr><td>场景</td><td>输入源/运行环境</td><td>摄像头？批处理？</td><td>室内 1080p30 低光</td></tr><tr><td>目标</td><td>功能/业务价值</td><td>用户希望看到什么结果？</td><td>实时检测 + 分析</td></tr><tr><td>指标</td><td>Latency/FPS/精度</td><td>哪些分位数重要？</td><td>&lt;80ms / ≥25FPS / mAP≥0.6</td></tr><tr><td>约束</td><td>能耗/内存/带宽</td><td>上限是多少？</td><td>功耗≤15W 内存≤3GB</td></tr><tr><td>风险</td><td>数据/硬件/算法</td><td>失败模式有哪些？</td><td>低光/遮挡/抖动</td></tr><tr><td>合规</td><td>隐私/许可</td><td>是否需要脱敏？</td><td>仅上传事件元数据</td></tr><tr><td>成本</td><td>硬件/云</td><td>ROI 衡量？</td><td>10 台板卡预算</td></tr></tbody></table><p>输出：<code>requirement.yaml</code>（版本化），后续所有评审基于此文档。</p><h2 id="指标分层与优先级" tabindex="-1"><a class="header-anchor" href="#指标分层与优先级"><span>指标分层与优先级</span></a></h2><table><thead><tr><th>层级</th><th>类别</th><th>指标</th><th>说明</th><th>失败后果</th></tr></thead><tbody><tr><td>SLO A</td><td>体验</td><td>p95 延迟</td><td>端到端</td><td>体验差/丢帧</td></tr><tr><td>SLO A</td><td>性能</td><td>FPS</td><td>稳态吞吐</td><td>处理拥堵</td></tr><tr><td>SLO B</td><td>质量</td><td>mAP/F1/Top1</td><td>任务正确性</td><td>无法满足业务</td></tr><tr><td>SLO B</td><td>稳定</td><td>Crash/小时</td><td>可靠性</td><td>运维成本高</td></tr><tr><td>SLO C</td><td>资源</td><td>内存峰值/功耗</td><td>成本约束</td><td>设备异常/降频</td></tr><tr><td>SLO C</td><td>带宽</td><td>上行 kbps</td><td>成本/合规</td><td>费用/拥塞</td></tr></tbody></table><p>优先级：先保障 A（体验+功能可用），再稳定 B（质量/稳定），最后优化 C（资源效率）。</p><h2 id="baseline-策略与控制变量法" tabindex="-1"><a class="header-anchor" href="#baseline-策略与控制变量法"><span>Baseline 策略与控制变量法</span></a></h2><p>Baseline 目标：建立 “最小改动可运行” 标尺。原则：</p><ol><li>不提前做微优化；</li><li>记录所有关键参数：模型版本、输入尺寸、预处理策略、硬件温度范围；</li><li>一次仅改变单个变量（batch、精度、线程数）。 基线存档：<code>baseline/&lt;date&gt;-&lt;commit&gt;/metrics.json</code>；对比脚本生成差异报告。</li></ol><h2 id="评测集设计原则" tabindex="-1"><a class="header-anchor" href="#评测集设计原则"><span>评测集设计原则</span></a></h2><table><thead><tr><th>原则</th><th>内容</th></tr></thead><tbody><tr><td>代表性</td><td>涵盖主流场景/光照/角度</td></tr><tr><td>覆盖边界</td><td>极端尺寸、模糊、遮挡</td></tr><tr><td>可再现</td><td>文件命名规范 + 固定清单</td></tr><tr><td>可扩展</td><td>新增样本不破坏旧索引</td></tr><tr><td>标注一致</td><td>标注工具/规范/审校流程</td></tr></tbody></table><p>目录示例：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>dataset_eval/</span></span>
<span class="line"><span>  images/</span></span>
<span class="line"><span>    day/*.jpg</span></span>
<span class="line"><span>    night/*.jpg</span></span>
<span class="line"><span>    occlusion/*.jpg</span></span>
<span class="line"><span>  annotations/</span></span>
<span class="line"><span>    instances_train.json</span></span>
<span class="line"><span>    instances_val.json</span></span>
<span class="line"><span>  meta/</span></span>
<span class="line"><span>    README.md</span></span>
<span class="line"><span>    version.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>提供 Hash 列表，防止样本被替换而影响回归可信度。</p><h2 id="迭代计划与看板" tabindex="-1"><a class="header-anchor" href="#迭代计划与看板"><span>迭代计划与看板</span></a></h2><p>四阶段：</p><table><thead><tr><th>Sprint</th><th>目标</th><th>核心产出</th><th>风险控制</th></tr></thead><tbody><tr><td>0</td><td>环境/基线</td><td>baseline metrics</td><td>依赖清单齐全</td></tr><tr><td>1</td><td>精度与功能稳固</td><td>精度报告</td><td>数据问题快速反馈</td></tr><tr><td>2</td><td>性能与稳定</td><td>性能对比表/监控上线</td><td>Watchdog 验证</td></tr><tr><td>3</td><td>工程交付包装</td><td>Release Notes/脚本</td><td>灰度计划制定</td></tr></tbody></table><p>看板列：Backlog → Doing → Review → Bench → Done；性能/精度任务需进入 Bench 列执行对比脚本通过后才可 Done。</p><h2 id="资产沉淀文档体系" tabindex="-1"><a class="header-anchor" href="#资产沉淀文档体系"><span>资产沉淀文档体系</span></a></h2><table><thead><tr><th>文档</th><th>内容</th><th>更新频率</th></tr></thead><tbody><tr><td>README</td><td>快速启动</td><td>版本变化时</td></tr><tr><td>ARCHITECTURE</td><td>架构图/模块说明</td><td>结构调整</td></tr><tr><td>MODEL_CARD</td><td>模型来源/许可/精度/限制</td><td>模型更新</td></tr><tr><td>EVAL_REPORT</td><td>数据与评测方法/指标</td><td>每次发布</td></tr><tr><td>PERF_REPORT</td><td>基线/优化对比</td><td>优化后</td></tr><tr><td>CHANGELOG</td><td>可见版本差异</td><td>每次版本</td></tr><tr><td>RISK_LOG</td><td>已知风险列表</td><td>动态</td></tr></tbody></table><p>MODEL_CARD 需包含：数据来源、训练超参摘要、输入契约、已知局限、许可（如 Apache-2.0）、安全与偏见说明（若涉及识别敏感属性声明避免用途）。</p><h2 id="交付目录与不可变产物" tabindex="-1"><a class="header-anchor" href="#交付目录与不可变产物"><span>交付目录与不可变产物</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>release/</span></span>
<span class="line"><span>  v1.0/</span></span>
<span class="line"><span>    manifest.json     # 产物 hash / 版本矩阵</span></span>
<span class="line"><span>    models/</span></span>
<span class="line"><span>      detect.om</span></span>
<span class="line"><span>      classify.om</span></span>
<span class="line"><span>      signature.json</span></span>
<span class="line"><span>    scripts/</span></span>
<span class="line"><span>      run.ps1</span></span>
<span class="line"><span>      run.sh</span></span>
<span class="line"><span>      watchdog.sh</span></span>
<span class="line"><span>    configs/</span></span>
<span class="line"><span>      default.yaml</span></span>
<span class="line"><span>    docs/</span></span>
<span class="line"><span>      model_card_detect.md</span></span>
<span class="line"><span>      model_card_classify.md</span></span>
<span class="line"><span>      QUICKSTART.md</span></span>
<span class="line"><span>    reports/</span></span>
<span class="line"><span>      perf.json</span></span>
<span class="line"><span>      accuracy.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>manifest.json 字段：<code>{version, commit, build_time, model_hashes, dependencies}</code>。</p><h2 id="上线前综合-checklist" tabindex="-1"><a class="header-anchor" href="#上线前综合-checklist"><span>上线前综合 Checklist</span></a></h2><table><thead><tr><th>类别</th><th>检查项</th><th>通过标准</th></tr></thead><tbody><tr><td>功能</td><td>核心用例 100%</td><td>自动化用例通过</td></tr><tr><td>性能</td><td>p95 &lt; 目标 +5%</td><td>连续 30min 稳定</td></tr><tr><td>精度</td><td>mAP/Top1 回归差 &lt; 阈值</td><td>与基线对比</td></tr><tr><td>资源</td><td>内存峰值 &lt; 75%</td><td>1h 稳态无泄漏</td></tr><tr><td>稳定</td><td>Crash=0, 重启=0</td><td>守护日志清洁</td></tr><tr><td>安全</td><td>日志无敏感泄露</td><td>关键字段脱敏</td></tr><tr><td>配置</td><td>签名校验一致</td><td>Hash 匹配</td></tr><tr><td>回滚</td><td>验证上一版本可用</td><td>切换 &lt; 30s</td></tr></tbody></table><h2 id="验收、回归与漂移监测" tabindex="-1"><a class="header-anchor" href="#验收、回归与漂移监测"><span>验收、回归与漂移监测</span></a></h2><p>交付后 7 天加密监控：记录时延、精度漂移（采样对比模型输出变化）。 漂移检测：相同输入集合（Shadow Set）每天抽样跑一次 → 统计 logits KL 散度/TopK 变化率，高于阈值（如 KL &gt; 0.05）触发报警（潜在数据分布变化或模型文件损坏）。 回归集版本化：<code>eval_set_vX</code>；若需替换样本 → 新增版本，不覆盖旧数据。</p><h2 id="风险管理与决策日志" tabindex="-1"><a class="header-anchor" href="#风险管理与决策日志"><span>风险管理与决策日志</span></a></h2><p>风险登记表：<code>risk_log.md</code> 每条包含：ID、描述、影响、概率、缓解、当前状态。决策日志（Decision Record, ADR）：记录架构/模型/精度策略选择及备选方案放弃理由，以便新成员快速建立上下文。</p><h2 id="章节小结" tabindex="-1"><a class="header-anchor" href="#章节小结"><span>章节小结</span></a></h2><p>方法论的核心不是流程文档堆砌，而是“指标驱动 + 资产沉淀 + 可回滚”三支柱。通过契约化需求、标准化 Baseline、规范化评测与回归体系，使团队协作更高效、风险暴露更透明、交付结果更可信。</p><h2 id="实践任务" tabindex="-1"><a class="header-anchor" href="#实践任务"><span>实践任务</span></a></h2><ol><li>输出 <code>requirement.yaml</code>（含指标与约束）。</li><li>构建 30 张代表图像的 mini 评测集并附 Hash 列表。</li><li>生成 baseline <code>metrics.json</code> 与后一次优化对比 diff 报告。</li><li>制作一个 MODEL_CARD 模板并填写一个模型示例。</li><li>编写上线 Checklist 并模拟一项未通过情形与处置方案。</li></ol>`,36)]))}const p=d(e,[["render",i],["__file","chapter7.html.vue"]]),c=JSON.parse('{"path":"/book/chapter7.html","title":"第7讲：项目实战方法论与交付模板","lang":"zh-cn","frontmatter":{"title":"第7讲：项目实战方法论与交付模板","author":["周贤中"],"date":"2025-09-04T00:00:00.000Z","subject":"Markdown","keywords":["方法论","需求拆解","评测体系","交付","Baseline","回归"],"lang":"zh-cn"},"headers":[{"level":2,"title":"章节总览","slug":"章节总览","link":"#章节总览","children":[]},{"level":2,"title":"需求澄清 Canvas","slug":"需求澄清-canvas","link":"#需求澄清-canvas","children":[]},{"level":2,"title":"指标分层与优先级","slug":"指标分层与优先级","link":"#指标分层与优先级","children":[]},{"level":2,"title":"Baseline 策略与控制变量法","slug":"baseline-策略与控制变量法","link":"#baseline-策略与控制变量法","children":[]},{"level":2,"title":"评测集设计原则","slug":"评测集设计原则","link":"#评测集设计原则","children":[]},{"level":2,"title":"迭代计划与看板","slug":"迭代计划与看板","link":"#迭代计划与看板","children":[]},{"level":2,"title":"资产沉淀文档体系","slug":"资产沉淀文档体系","link":"#资产沉淀文档体系","children":[]},{"level":2,"title":"交付目录与不可变产物","slug":"交付目录与不可变产物","link":"#交付目录与不可变产物","children":[]},{"level":2,"title":"上线前综合 Checklist","slug":"上线前综合-checklist","link":"#上线前综合-checklist","children":[]},{"level":2,"title":"验收、回归与漂移监测","slug":"验收、回归与漂移监测","link":"#验收、回归与漂移监测","children":[]},{"level":2,"title":"风险管理与决策日志","slug":"风险管理与决策日志","link":"#风险管理与决策日志","children":[]},{"level":2,"title":"章节小结","slug":"章节小结","link":"#章节小结","children":[]},{"level":2,"title":"实践任务","slug":"实践任务","link":"#实践任务","children":[]}],"git":{"createdTime":1752741756000,"updatedTime":1758457965000,"contributors":[{"name":"zhouxzh","username":"zhouxzh","email":"zhouxzh@gdut.edu.cn","commits":3,"url":"https://github.com/zhouxzh"},{"name":"Xianzhong Zhou","username":"Xianzhong Zhou","email":"zhouxzh@gdut.edu.cn","commits":1,"url":"https://github.com/Xianzhong Zhou"}]},"readingTime":{"minutes":4.85,"words":1455},"filePathRelative":"book/chapter7.md","localizedDate":"2025年9月4日"}');export{p as comp,c as data};
