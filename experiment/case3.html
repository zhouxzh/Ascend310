<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.71" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <title>案例3：智能电子琴 | 主页</title><meta name="description" content="vuepress-theme-hope 的文档演示">
    <link rel="preload" href="/Ascend310/assets/style-BYV_1N69.css" as="style"><link rel="stylesheet" href="/Ascend310/assets/style-BYV_1N69.css">
    <link rel="modulepreload" href="/Ascend310/assets/app-qOQMBkXC.js"><link rel="modulepreload" href="/Ascend310/assets/case3.html-Bam35ua1.js"><link rel="modulepreload" href="/Ascend310/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/Ascend310/assets/portfolio.html-CsgdwHMp.js" as="script"><link rel="prefetch" href="/Ascend310/assets/index.html-CvJ1TkXy.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter1.html-BP9JrBMz.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter10.html-DjUa2EhH.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter2.html-CmHo3-2P.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter3.html-BO_7sD95.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter4.html-pgR3eVd0.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter5.html-LDyRtyWS.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter6.html-BaujDgMv.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter7.html-DVdkzJBl.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter8.html-CxWxOF_A.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter9.html-D5OVhs6K.js" as="script"><link rel="prefetch" href="/Ascend310/assets/index.html-FpH3tsRH.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case0.html-B796lRSc.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case1.html-BAijSc6c.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case2.html-CW5ordpD.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case4.html-Cp3FPuMt.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case5.html-B1MdhFVg.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case6.html-Dz2z4M8T.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case7.html-CMQbA6Uw.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case8.html-C1YP7Na-.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case9.html-DMY6EA-C.js" as="script"><link rel="prefetch" href="/Ascend310/assets/index.html-DWv20I5S.js" as="script"><link rel="prefetch" href="/Ascend310/assets/404.html-DMBg1Z3u.js" as="script"><link rel="prefetch" href="/Ascend310/assets/mermaid.esm.min-Bu5xVowE.js" as="script"><link rel="prefetch" href="/Ascend310/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/Ascend310/assets/setupDevtools-7MC2TMWH-ruIcmP6-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container no-navbar external-link-icon has-toc" vp-container><!----><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/" aria-label="昇腾310B实战——从入门到精通边缘计算" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="school" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->昇腾310B实战——从入门到精通边缘计算<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">理论教程</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">实践案例</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/" aria-label="实践案例" iconsizing="both"><!---->实践案例<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case0.html" aria-label="案例0：初步使用开发板" iconsizing="both"><!---->案例0：初步使用开发板<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case1.html" aria-label="案例1：智能人脸识别打卡机" iconsizing="both"><!---->案例1：智能人脸识别打卡机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case2.html" aria-label="案例2：边缘端实时目标跟踪" iconsizing="both"><!---->案例2：边缘端实时目标跟踪<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/Ascend310/experiment/case3.html" aria-label="案例3：智能电子琴" iconsizing="both"><!---->案例3：智能电子琴<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case4.html" aria-label="案例4：智能掌纹识别机" iconsizing="both"><!---->案例4：智能掌纹识别机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case5.html" aria-label="案例5：智能数据采集仪" iconsizing="both"><!---->案例5：智能数据采集仪<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case6.html" aria-label="案例6：智能小车" iconsizing="both"><!---->案例6：智能小车<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case7.html" aria-label="案例7：智能相册" iconsizing="both"><!---->案例7：智能相册<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case8.html" aria-label="案例8：手势识别" iconsizing="both"><!---->案例8：手势识别<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case9.html" aria-label="案例9：智能聊天机器人" iconsizing="both"><!---->案例9：智能聊天机器人<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/portfolio.html" aria-label="作者简介" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="house" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->作者简介<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->案例3：智能电子琴</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年9月4日</span><meta property="datePublished" content="2025-09-04T14:55:45.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 5 分钟</span><meta property="timeRequired" content="PT5M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><!--[--><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-项目简介">1. 项目简介</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-内容大纲">2. 内容大纲</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-1-硬件准备">2.1. 硬件准备</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-2-软件环境">2.2. 软件环境</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-3-手势识别与音符映射">2.3. 手势识别与音符映射</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-4-模型训练与优化">2.4. 模型训练与优化</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-5-音频合成与处理">2.5. 音频合成与处理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-6-3d打印结构件">2.6. 3D打印结构件</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-7-用户手册">2.7. 用户手册</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-源代码结构">3. 源代码结构</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-效果演示">4. 效果演示</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--]--><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="案例3-智能电子琴" tabindex="-1"><a class="header-anchor" href="#案例3-智能电子琴"><span>案例3：智能电子琴</span></a></h1><h2 id="_1-项目简介" tabindex="-1"><a class="header-anchor" href="#_1-项目简介"><span>1. 项目简介</span></a></h2><p>本项目通过结合计算机视觉和音频处理技术，创造了一种全新的交互式音乐体验。系统利用昇腾310B的AI算力，实时识别用户的手势或特定图像标记，并将其转换为相应的音符和音效，从而实现&quot;隔空弹琴&quot;的神奇效果。</p><p>该项目不仅展示了AI在艺术创作领域的应用潜力，也为音乐教育、娱乐互动和无障碍音乐演奏提供了创新的解决方案。无论是音乐爱好者还是技术探索者，都能从这个项目中获得乐趣和启发。</p><h2 id="_2-内容大纲" tabindex="-1"><a class="header-anchor" href="#_2-内容大纲"><span>2. 内容大纲</span></a></h2><h3 id="_2-1-硬件准备" tabindex="-1"><a class="header-anchor" href="#_2-1-硬件准备"><span>2.1. 硬件准备</span></a></h3><ul><li><strong>核心计算单元</strong>: 昇腾310B开发者套件</li><li><strong>图像采集</strong>: 高分辨率USB摄像头 (推荐1080p 30fps)</li><li><strong>音频输出</strong>: <ul><li>USB音响或蓝牙音箱</li><li>3.5mm耳机接口</li><li>HDMI音频输出</li></ul></li><li><strong>显示设备</strong>: 触摸屏显示器 (可选，用于虚拟键盘显示)</li><li><strong>LED指示灯</strong>: RGB LED灯带，用于视觉反馈</li><li><strong>电源</strong>: 稳定的12V电源适配器</li></ul><p><em>硬件系统架构图</em></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>        摄像头</span></span>
<span class="line"><span>           │</span></span>
<span class="line"><span>      ┌────▼────┐</span></span>
<span class="line"><span>      │昇腾310B │</span></span>
<span class="line"><span>      └────┬────┘</span></span>
<span class="line"><span>           │</span></span>
<span class="line"><span>    ┌──────┼──────┐</span></span>
<span class="line"><span>    │      │      │</span></span>
<span class="line"><span> 音响设备  LED灯  显示器</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-软件环境" tabindex="-1"><a class="header-anchor" href="#_2-2-软件环境"><span>2.2. 软件环境</span></a></h3><ul><li><strong>操作系统</strong>: Ubuntu 20.04 LTS</li><li><strong>CANN版本</strong>: 7.0.RC1</li><li><strong>Python版本</strong>: 3.8.10</li><li><strong>音频处理库</strong>: <ul><li><code>pygame</code>: 音频播放和MIDI处理</li><li><code>pyaudio</code>: 实时音频处理</li><li><code>librosa</code>: 音频分析</li><li><code>mido</code>: MIDI文件操作</li></ul></li><li><strong>计算机视觉库</strong>: <ul><li><code>opencv-python</code>: 图像处理</li><li><code>mediapipe</code>: 手势识别</li><li><code>numpy</code>: 数值计算</li></ul></li><li><strong>界面开发</strong>: <ul><li><code>tkinter</code>: GUI界面</li><li><code>matplotlib</code>: 波形可视化</li></ul></li></ul><p><em>快速安装脚本 (<code>install_piano.sh</code>)</em></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 更新包管理器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装音频依赖</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python3-pyaudio</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> portaudio19-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装Python包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pygame</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> librosa</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mido</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> opencv-python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mediapipe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> numpy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tkinter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> matplotlib</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装MIDI支持</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> timidity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> timidity-interfaces-extra</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;智能电子琴环境安装完成!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-手势识别与音符映射" tabindex="-1"><a class="header-anchor" href="#_2-3-手势识别与音符映射"><span>2.3. 手势识别与音符映射</span></a></h3><ul><li><p><strong>手势识别方案</strong>:</p><ul><li><strong>静态手势</strong>: 识别手指数量对应不同音符</li><li><strong>动态手势</strong>: 手部移动轨迹控制音调变化</li><li><strong>双手协作</strong>: 左手控制和弦，右手控制旋律</li><li><strong>手势速度</strong>: 识别手势速度控制音符强度</li></ul></li><li><p><strong>音符映射系统</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 手势到音符的映射示例</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">gesture_to_note </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;one_finger&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;C4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,      </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1个手指 = C调</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;two_fingers&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;D4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,     </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2个手指 = D调</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;three_fingers&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;E4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3个手指 = E调</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;four_fingers&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;F4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 4个手指 = F调</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;five_fingers&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;G4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 5个手指 = G调</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;fist&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;REST&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,          </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 握拳 = 休止符</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;palm_open&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;CHORD&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 张开手掌 = 和弦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>高级识别功能</strong>:</p><ul><li><strong>音量控制</strong>: 通过手与摄像头的距离控制音量</li><li><strong>音效切换</strong>: 特定手势切换乐器音色</li><li><strong>节拍控制</strong>: 双手拍击节奏控制节拍器</li></ul></li></ul><h3 id="_2-4-模型训练与优化" tabindex="-1"><a class="header-anchor" href="#_2-4-模型训练与优化"><span>2.4. 模型训练与优化</span></a></h3><ul><li><p><strong>手势识别模型</strong>:</p><ul><li><strong>基础方案</strong>: 使用MediaPipe的预训练手部识别模型</li><li><strong>自定义方案</strong>: 训练专门的手势分类模型</li><li><strong>数据集构建</strong>: 收集多角度、多光照条件下的手势数据</li></ul></li><li><p><strong>模型训练流程</strong>:</p><ol><li><strong>数据收集</strong>: 使用摄像头收集各种手势样本</li><li><strong>数据标注</strong>: 为每个手势分配对应的音符标签</li><li><strong>模型训练</strong>: 使用CNN或Transformer架构训练分类器</li><li><strong>模型评估</strong>: 在测试集上验证识别准确率</li><li><strong>模型优化</strong>: 针对昇腾310B进行量化和加速</li></ol></li><li><p><strong>实时优化策略</strong>:</p><ul><li><strong>帧率控制</strong>: 平衡识别精度和实时性</li><li><strong>噪声过滤</strong>: 减少误识别和抖动</li><li><strong>延迟补偿</strong>: 最小化从手势到发声的延迟</li></ul></li></ul><h3 id="_2-5-音频合成与处理" tabindex="-1"><a class="header-anchor" href="#_2-5-音频合成与处理"><span>2.5. 音频合成与处理</span></a></h3><ul><li><p><strong>音频合成方案</strong>:</p><ul><li><strong>MIDI合成</strong>: 使用MIDI格式生成标准乐器音色</li><li><strong>波形合成</strong>: 直接生成音频波形，支持自定义音色</li><li><strong>采样回放</strong>: 预录制真实乐器采样进行回放</li></ul></li><li><p><strong>音效处理</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 音效处理管道示例</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">audio_pipeline </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;reverb&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,           </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 混响效果</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;equalizer&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,        </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 均衡器</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;compressor&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,       </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 压缩器</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;delay&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,           </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 延迟效果</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;chorus&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 合唱效果</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>实时音频流处理</strong>:</p><ul><li><strong>低延迟设计</strong>: 优化音频缓冲区大小</li><li><strong>多线程处理</strong>: 分离音频生成和播放线程</li><li><strong>动态加载</strong>: 按需加载音色库</li></ul></li></ul><h3 id="_2-6-3d打印结构件" tabindex="-1"><a class="header-anchor" href="#_2-6-3d打印结构件"><span>2.6. 3D打印结构件</span></a></h3><ul><li><p><strong>摄像头支架 (<code>camera_stand.stl</code>)</strong>:</p><ul><li>高度可调节设计 (50-80cm)</li><li>角度微调机构 (±30°)</li><li>防震减振设计</li></ul></li><li><p><strong>设备一体化外壳 (<code>piano_case.stl</code>)</strong>:</p><ul><li>集成散热风扇位</li><li>LED灯带安装槽</li><li>音响设备安装位</li></ul></li><li><p><strong>用户交互面板 (<code>control_panel.stl</code>)</strong>:</p><ul><li>物理按键布局</li><li>旋钮和滑块安装位</li><li>显示屏保护框</li></ul></li></ul><p><em>3D打印建议</em>:</p><ul><li><strong>材料选择</strong>: ABS (强度好，适合结构件)</li><li><strong>层高设置</strong>: 0.2mm</li><li><strong>填充密度</strong>: 25%</li><li><strong>支撑设置</strong>: 针对悬垂结构添加支撑</li></ul><h3 id="_2-7-用户手册" tabindex="-1"><a class="header-anchor" href="#_2-7-用户手册"><span>2.7. 用户手册</span></a></h3><h4 id="_2-7-1-快速上手" tabindex="-1"><a class="header-anchor" href="#_2-7-1-快速上手"><span>2.7.1 快速上手</span></a></h4><ol><li><strong>环境配置</strong>: 运行安装脚本配置软件环境</li><li><strong>硬件连接</strong>: 按照连接图组装所有硬件</li><li><strong>校准摄像头</strong>: 调整摄像头角度和高度</li><li><strong>启动程序</strong>: <code>python3 smart_piano.py</code></li><li><strong>手势训练</strong>: 跟随屏幕提示学习基本手势</li></ol><h4 id="_2-7-2-演奏模式" tabindex="-1"><a class="header-anchor" href="#_2-7-2-演奏模式"><span>2.7.2 演奏模式</span></a></h4><ul><li><strong>自由演奏模式</strong>: 随意手势即兴演奏</li><li><strong>跟随演奏模式</strong>: 根据屏幕提示演奏指定曲目</li><li><strong>录制模式</strong>: 录制演奏过程并回放</li><li><strong>教学模式</strong>: 逐步学习手势和音符对应关系</li></ul><h4 id="_2-7-3-高级功能" tabindex="-1"><a class="header-anchor" href="#_2-7-3-高级功能"><span>2.7.3 高级功能</span></a></h4><ul><li><strong>乐器切换</strong>: 手势控制切换钢琴、小提琴、吉他等音色</li><li><strong>和弦演奏</strong>: 双手配合演奏复杂和弦</li><li><strong>节拍器</strong>: 内置节拍器辅助练习</li><li><strong>录音回放</strong>: 保存演奏为音频文件</li></ul><h4 id="_2-7-4-故障排除" tabindex="-1"><a class="header-anchor" href="#_2-7-4-故障排除"><span>2.7.4 故障排除</span></a></h4><ul><li><strong>手势识别不准确</strong>: 检查光照条件和摄像头角度</li><li><strong>音频延迟</strong>: 调整音频缓冲区设置</li><li><strong>程序崩溃</strong>: 查看日志文件排查错误</li></ul><h2 id="_3-源代码结构" tabindex="-1"><a class="header-anchor" href="#_3-源代码结构"><span>3. 源代码结构</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>smart_piano/</span></span>
<span class="line"><span>├── src/</span></span>
<span class="line"><span>│   ├── gesture_recognition/    # 手势识别模块</span></span>
<span class="line"><span>│   ├── audio_synthesis/       # 音频合成模块</span></span>
<span class="line"><span>│   ├── ui/                   # 用户界面</span></span>
<span class="line"><span>│   └── utils/                # 工具函数</span></span>
<span class="line"><span>├── models/</span></span>
<span class="line"><span>│   ├── gesture_classifier.onnx  # 手势识别模型</span></span>
<span class="line"><span>│   └── pretrained/           # 预训练模型</span></span>
<span class="line"><span>├── audio/</span></span>
<span class="line"><span>│   ├── samples/              # 音频采样</span></span>
<span class="line"><span>│   └── midi/                # MIDI文件</span></span>
<span class="line"><span>├── configs/</span></span>
<span class="line"><span>│   └── piano_config.yaml    # 配置文件</span></span>
<span class="line"><span>└── 3d_models/               # 3D打印文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-效果演示" tabindex="-1"><a class="header-anchor" href="#_4-效果演示"><span>4. 效果演示</span></a></h2><ul><li><strong>基础演奏</strong>: 展示单手手势演奏简单旋律</li><li><strong>和弦演奏</strong>: 双手配合演奏和弦进行</li><li><strong>音色切换</strong>: 实时切换不同乐器音色</li><li><strong>教学演示</strong>: 跟随模式学习演奏《小星星》等简单曲目</li></ul></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/9/4 22:55:45</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: zhouxzh@gdut.edu.cn">zhouxzh</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/Ascend310/experiment/case2.html" aria-label="案例2：边缘端实时目标跟踪" iconsizing="both"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->案例2：边缘端实时目标跟踪</div></a><a class="route-link auto-link next" href="/Ascend310/experiment/case4.html" aria-label="案例4：智能掌纹识别机" iconsizing="both"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">案例4：智能掌纹识别机<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/Ascend310/assets/app-qOQMBkXC.js" defer></script>
  </body>
</html>
