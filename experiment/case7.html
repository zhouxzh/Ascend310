<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.71" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <title>æ¡ˆä¾‹7ï¼šæ™ºèƒ½ç›¸å†Œ | ä¸»é¡µ</title><meta name="description" content="vuepress-theme-hope çš„æ–‡æ¡£æ¼”ç¤º">
    <link rel="preload" href="/Ascend310/assets/style-BYV_1N69.css" as="style"><link rel="stylesheet" href="/Ascend310/assets/style-BYV_1N69.css">
    <link rel="modulepreload" href="/Ascend310/assets/app-qOQMBkXC.js"><link rel="modulepreload" href="/Ascend310/assets/case7.html-CMQbA6Uw.js"><link rel="modulepreload" href="/Ascend310/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/Ascend310/assets/portfolio.html-CsgdwHMp.js" as="script"><link rel="prefetch" href="/Ascend310/assets/index.html-CvJ1TkXy.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter1.html-BP9JrBMz.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter10.html-DjUa2EhH.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter2.html-CmHo3-2P.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter3.html-BO_7sD95.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter4.html-pgR3eVd0.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter5.html-LDyRtyWS.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter6.html-BaujDgMv.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter7.html-DVdkzJBl.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter8.html-CxWxOF_A.js" as="script"><link rel="prefetch" href="/Ascend310/assets/chapter9.html-D5OVhs6K.js" as="script"><link rel="prefetch" href="/Ascend310/assets/index.html-FpH3tsRH.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case0.html-B796lRSc.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case1.html-BAijSc6c.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case2.html-CW5ordpD.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case3.html-Bam35ua1.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case4.html-Cp3FPuMt.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case5.html-B1MdhFVg.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case6.html-Dz2z4M8T.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case8.html-C1YP7Na-.js" as="script"><link rel="prefetch" href="/Ascend310/assets/case9.html-DMY6EA-C.js" as="script"><link rel="prefetch" href="/Ascend310/assets/index.html-DWv20I5S.js" as="script"><link rel="prefetch" href="/Ascend310/assets/404.html-DMBg1Z3u.js" as="script"><link rel="prefetch" href="/Ascend310/assets/mermaid.esm.min-Bu5xVowE.js" as="script"><link rel="prefetch" href="/Ascend310/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/Ascend310/assets/setupDevtools-7MC2TMWH-ruIcmP6-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-navbar external-link-icon has-toc" vp-container><!----><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/" aria-label="æ˜‡è…¾310Bå®æˆ˜â€”â€”ä»å…¥é—¨åˆ°ç²¾é€šè¾¹ç¼˜è®¡ç®—" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="school" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->æ˜‡è…¾310Bå®æˆ˜â€”â€”ä»å…¥é—¨åˆ°ç²¾é€šè¾¹ç¼˜è®¡ç®—<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">ç†è®ºæ•™ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">å®è·µæ¡ˆä¾‹</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/" aria-label="å®è·µæ¡ˆä¾‹" iconsizing="both"><!---->å®è·µæ¡ˆä¾‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case0.html" aria-label="æ¡ˆä¾‹0ï¼šåˆæ­¥ä½¿ç”¨å¼€å‘æ¿" iconsizing="both"><!---->æ¡ˆä¾‹0ï¼šåˆæ­¥ä½¿ç”¨å¼€å‘æ¿<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case1.html" aria-label="æ¡ˆä¾‹1ï¼šæ™ºèƒ½äººè„¸è¯†åˆ«æ‰“å¡æœº" iconsizing="both"><!---->æ¡ˆä¾‹1ï¼šæ™ºèƒ½äººè„¸è¯†åˆ«æ‰“å¡æœº<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case2.html" aria-label="æ¡ˆä¾‹2ï¼šè¾¹ç¼˜ç«¯å®æ—¶ç›®æ ‡è·Ÿè¸ª" iconsizing="both"><!---->æ¡ˆä¾‹2ï¼šè¾¹ç¼˜ç«¯å®æ—¶ç›®æ ‡è·Ÿè¸ª<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case3.html" aria-label="æ¡ˆä¾‹3ï¼šæ™ºèƒ½ç”µå­ç´" iconsizing="both"><!---->æ¡ˆä¾‹3ï¼šæ™ºèƒ½ç”µå­ç´<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case4.html" aria-label="æ¡ˆä¾‹4ï¼šæ™ºèƒ½æŒçº¹è¯†åˆ«æœº" iconsizing="both"><!---->æ¡ˆä¾‹4ï¼šæ™ºèƒ½æŒçº¹è¯†åˆ«æœº<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case5.html" aria-label="æ¡ˆä¾‹5ï¼šæ™ºèƒ½æ•°æ®é‡‡é›†ä»ª" iconsizing="both"><!---->æ¡ˆä¾‹5ï¼šæ™ºèƒ½æ•°æ®é‡‡é›†ä»ª<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case6.html" aria-label="æ¡ˆä¾‹6ï¼šæ™ºèƒ½å°è½¦" iconsizing="both"><!---->æ¡ˆä¾‹6ï¼šæ™ºèƒ½å°è½¦<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/Ascend310/experiment/case7.html" aria-label="æ¡ˆä¾‹7ï¼šæ™ºèƒ½ç›¸å†Œ" iconsizing="both"><!---->æ¡ˆä¾‹7ï¼šæ™ºèƒ½ç›¸å†Œ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case8.html" aria-label="æ¡ˆä¾‹8ï¼šæ‰‹åŠ¿è¯†åˆ«" iconsizing="both"><!---->æ¡ˆä¾‹8ï¼šæ‰‹åŠ¿è¯†åˆ«<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/experiment/case9.html" aria-label="æ¡ˆä¾‹9ï¼šæ™ºèƒ½èŠå¤©æœºå™¨äºº" iconsizing="both"><!---->æ¡ˆä¾‹9ï¼šæ™ºèƒ½èŠå¤©æœºå™¨äºº<!----></a></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/Ascend310/portfolio.html" aria-label="ä½œè€…ç®€ä»‹" iconsizing="both"><!--[--><iconify-icon class="vp-icon" icon="house" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->ä½œè€…ç®€ä»‹<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->æ¡ˆä¾‹7ï¼šæ™ºèƒ½ç›¸å†Œ</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´9æœˆ4æ—¥</span><meta property="datePublished" content="2025-09-04T14:55:45.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 8 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT8M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><!--[--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-é¡¹ç›®ç®€ä»‹">1. é¡¹ç›®ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-å†…å®¹å¤§çº²">2. å†…å®¹å¤§çº²</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-1-ç¡¬ä»¶å‡†å¤‡">2.1. ç¡¬ä»¶å‡†å¤‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-2-è½¯ä»¶ç¯å¢ƒ">2.2. è½¯ä»¶ç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-3-æ™ºèƒ½è¯†åˆ«ä¸åˆ†æ">2.3. æ™ºèƒ½è¯†åˆ«ä¸åˆ†æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-4-æ™ºèƒ½åˆ†ç±»ä¸æ ‡ç­¾">2.4. æ™ºèƒ½åˆ†ç±»ä¸æ ‡ç­¾</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-5-æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ">2.5. æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-6-è‡ªåŠ¨æ•´ç†ä¸æ¨è">2.6. è‡ªåŠ¨æ•´ç†ä¸æ¨è</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-7-ç”¨æˆ·ç•Œé¢è®¾è®¡">2.7. ç”¨æˆ·ç•Œé¢è®¾è®¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-8-æ¨¡å‹éƒ¨ç½²ä¸ä¼˜åŒ–">2.8. æ¨¡å‹éƒ¨ç½²ä¸ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-9-æ•°æ®ç®¡ç†ä¸å®‰å…¨">2.9. æ•°æ®ç®¡ç†ä¸å®‰å…¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-10-ç”¨æˆ·æ‰‹å†Œ">2.10. ç”¨æˆ·æ‰‹å†Œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-æºä»£ç ç»“æ„">3. æºä»£ç ç»“æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-æ•ˆæœæ¼”ç¤º">4. æ•ˆæœæ¼”ç¤º</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--]--><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="æ¡ˆä¾‹7-æ™ºèƒ½ç›¸å†Œ" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹7-æ™ºèƒ½ç›¸å†Œ"><span>æ¡ˆä¾‹7ï¼šæ™ºèƒ½ç›¸å†Œ</span></a></h1><h2 id="_1-é¡¹ç›®ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-é¡¹ç›®ç®€ä»‹"><span>1. é¡¹ç›®ç®€ä»‹</span></a></h2><p>æœ¬é¡¹ç›®åŸºäºæ˜‡è…¾310Bå¹³å°ï¼Œæ„å»ºä¸€ä¸ªæ™ºèƒ½åŒ–çš„ç…§ç‰‡ç®¡ç†å’Œæ£€ç´¢ç³»ç»Ÿã€‚ç³»ç»Ÿåˆ©ç”¨å…ˆè¿›çš„è®¡ç®—æœºè§†è§‰å’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œèƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ«ç…§ç‰‡ä¸­çš„äººè„¸ã€ç‰©ä½“ã€åœºæ™¯ç­‰ä¿¡æ¯ï¼Œå¹¶æ ¹æ®è¿™äº›ç‰¹å¾å¯¹ç…§ç‰‡è¿›è¡Œæ™ºèƒ½åˆ†ç±»ã€æ ‡ç­¾åŒ–å’Œç´¢å¼•ï¼Œä¸ºç”¨æˆ·æä¾›ä¾¿æ·é«˜æ•ˆçš„ç…§ç‰‡ç®¡ç†ä½“éªŒã€‚</p><p>ä¸ä¼ ç»Ÿçš„ç›¸å†Œç®¡ç†è½¯ä»¶ç›¸æ¯”ï¼Œæ™ºèƒ½ç›¸å†Œå…·å¤‡è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜ã€æ£€ç´¢ç²¾å‡†ã€ä¸ªæ€§åŒ–æ¨èç­‰ç‰¹ç‚¹ï¼Œèƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·å¿«é€Ÿæ‰¾åˆ°ç›®æ ‡ç…§ç‰‡ï¼Œå‘ç°é—å¿˜çš„ç¾å¥½å›å¿†ï¼Œç”šè‡³è‡ªåŠ¨ç”Ÿæˆç²¾å½©çš„ç…§ç‰‡é›†é”¦å’Œå›å¿†å½•ã€‚</p><h2 id="_2-å†…å®¹å¤§çº²" tabindex="-1"><a class="header-anchor" href="#_2-å†…å®¹å¤§çº²"><span>2. å†…å®¹å¤§çº²</span></a></h2><h3 id="_2-1-ç¡¬ä»¶å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#_2-1-ç¡¬ä»¶å‡†å¤‡"><span>2.1. ç¡¬ä»¶å‡†å¤‡</span></a></h3><ul><li><strong>æ ¸å¿ƒè®¡ç®—å•å…ƒ</strong>: æ˜‡è…¾310Bå¼€å‘è€…å¥—ä»¶</li><li><strong>å­˜å‚¨ç³»ç»Ÿ</strong>: <ul><li><strong>é«˜é€ŸSSD</strong>: 1TB NVMe SSD (ç…§ç‰‡å­˜å‚¨)</li><li><strong>æœºæ¢°ç¡¬ç›˜</strong>: 4TB SATAç¡¬ç›˜ (å¤‡ä»½å­˜å‚¨)</li><li><strong>SDå¡è¯»å¡å™¨</strong>: å¤šæ ¼å¼è¯»å¡å™¨</li><li><strong>USB3.0 Hub</strong>: å¤šè®¾å¤‡è¿æ¥</li></ul></li><li><strong>æ˜¾ç¤ºè®¾å¤‡</strong>: <ul><li><strong>ä¸»æ˜¾ç¤ºå™¨</strong>: 4Ké«˜åˆ†è¾¨ç‡æ˜¾ç¤ºå™¨</li><li><strong>è§¦æ‘¸å±</strong>: 10å¯¸ç”µå®¹è§¦æ‘¸å± (æ“ä½œç•Œé¢)</li></ul></li><li><strong>è¾“å…¥è®¾å¤‡</strong>: <ul><li><strong>æ‰«æä»ª</strong>: é«˜ç²¾åº¦å¹³æ¿æ‰«æä»ª (è€ç…§ç‰‡æ•°å­—åŒ–)</li><li><strong>æ‘„åƒå¤´</strong>: é«˜æ¸…ç½‘ç»œæ‘„åƒå¤´ (å®æ—¶æ‹ç…§)</li></ul></li><li><strong>ç½‘ç»œè®¾å¤‡</strong>: <ul><li><strong>WiFiæ¨¡å—</strong>: æ”¯æŒ2.4G/5GåŒé¢‘</li><li><strong>ç½‘ç»œå­˜å‚¨</strong>: NASè®¾å¤‡ (å¯é€‰)</li></ul></li></ul><p><em>æ™ºèƒ½ç›¸å†Œç³»ç»Ÿæ¶æ„</em></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>   è¾“å…¥è®¾å¤‡ç¾¤</span></span>
<span class="line"><span>  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â”‚æ‰«æä»ªâ”‚æ‘„åƒå¤´â”‚</span></span>
<span class="line"><span>  â”‚SDå¡ â”‚ USB â”‚ â† ç…§ç‰‡è¾“å…¥</span></span>
<span class="line"><span>  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>         â”‚</span></span>
<span class="line"><span>    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”</span></span>
<span class="line"><span>    â”‚æ˜‡è…¾310B â”‚ â† AIåˆ†æå¤„ç†</span></span>
<span class="line"><span>    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>         â”‚</span></span>
<span class="line"><span>  â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â”‚      â”‚      â”‚</span></span>
<span class="line"><span> æ˜¾ç¤ºè®¾å¤‡ å­˜å‚¨ç³»ç»Ÿ ç½‘ç»œå¤‡ä»½</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-è½¯ä»¶ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_2-2-è½¯ä»¶ç¯å¢ƒ"><span>2.2. è½¯ä»¶ç¯å¢ƒ</span></a></h3><ul><li><strong>æ“ä½œç³»ç»Ÿ</strong>: Ubuntu 20.04 LTS</li><li><strong>CANNç‰ˆæœ¬</strong>: 7.0.RC1</li><li><strong>Pythonç‰ˆæœ¬</strong>: 3.8.10</li><li><strong>æ·±åº¦å­¦ä¹ æ¡†æ¶</strong>: <ul><li><code>torch</code>: PyTorchæ·±åº¦å­¦ä¹ æ¡†æ¶</li><li><code>torchvision</code>: è®¡ç®—æœºè§†è§‰åº“</li><li><code>transformers</code>: Transformeræ¨¡å‹åº“</li><li><code>ultralytics</code>: YOLOç³»åˆ—æ¨¡å‹</li></ul></li><li><strong>å›¾åƒå¤„ç†</strong>: <ul><li><code>opencv-python</code>: OpenCVå›¾åƒå¤„ç†</li><li><code>Pillow</code>: Pythonå›¾åƒåº“</li><li><code>scikit-image</code>: é«˜çº§å›¾åƒå¤„ç†</li><li><code>imageio</code>: å›¾åƒè¯»å†™</li></ul></li><li><strong>æ•°æ®åº“ç³»ç»Ÿ</strong>: <ul><li><code>sqlite3</code>: è½»é‡çº§å…³ç³»æ•°æ®åº“</li><li><code>faiss</code>: å‘é‡ç›¸ä¼¼åº¦æœç´¢</li><li><code>elasticsearch</code>: å…¨æ–‡æœç´¢å¼•æ“ (å¯é€‰)</li></ul></li><li><strong>Webæ¡†æ¶</strong>: <ul><li><code>flask</code>: è½»é‡çº§Webæ¡†æ¶</li><li><code>fastapi</code>: é«˜æ€§èƒ½APIæ¡†æ¶</li></ul></li><li><strong>å‰ç«¯æŠ€æœ¯</strong>: <ul><li><code>streamlit</code>: å¿«é€ŸWebåº”ç”¨å¼€å‘</li><li><code>gradio</code>: AIæ¨¡å‹Webç•Œé¢</li></ul></li></ul><p><em>ç¯å¢ƒå®‰è£…è„šæœ¬ (<code>setup_album.sh</code>)</em></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ›´æ–°ç³»ç»Ÿ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> upgrade</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®‰è£…ç³»ç»Ÿä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python3-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python3-pip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sqlite3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> elasticsearch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®‰è£…Pythonä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> torch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> torchvision</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> transformers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ultralytics</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> opencv-python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Pillow</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scikit-image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> imageio</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pip3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> faiss-cpu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flask</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fastapi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> streamlit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gradio</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å®‰è£…å›¾åƒæ ¼å¼æ”¯æŒ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libraw-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libexiv2-dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;æ™ºèƒ½ç›¸å†Œç¯å¢ƒé…ç½®å®Œæˆ!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-æ™ºèƒ½è¯†åˆ«ä¸åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_2-3-æ™ºèƒ½è¯†åˆ«ä¸åˆ†æ"><span>2.3. æ™ºèƒ½è¯†åˆ«ä¸åˆ†æ</span></a></h3><ul><li><p><strong>äººè„¸è¯†åˆ«ç³»ç»Ÿ</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># äººè„¸è¯†åˆ«å’Œèšç±»</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> FaceRecognitionSystem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.detector </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> MTCNN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># äººè„¸æ£€æµ‹</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.recognizer </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> FaceNet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># äººè„¸ç‰¹å¾æå–</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.clusterer </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> DBSCAN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># äººè„¸èšç±»</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> detect_faces</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ£€æµ‹å›¾åƒä¸­çš„æ‰€æœ‰äººè„¸</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        faces </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.detector.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">detect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(image)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        face_embeddings </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> []</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> face </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> faces:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # æå–äººè„¸ç‰¹å¾å‘é‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            embedding </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.recognizer.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">extract_features</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(face)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            face_embeddings.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(embedding)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> faces, face_embeddings</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> cluster_faces</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> all_embeddings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å¯¹æ‰€æœ‰äººè„¸è¿›è¡Œèšç±»ï¼Œè¯†åˆ«åŒä¸€ä¸ªäºº</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        clusters </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.clusterer.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">fit_predict</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(all_embeddings)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> clusters</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç‰©ä½“è¯†åˆ«ç³»ç»Ÿ</strong>:</p><ul><li><strong>é€šç”¨ç‰©ä½“æ£€æµ‹</strong>: YOLOç³»åˆ—æ¨¡å‹æ£€æµ‹å¸¸è§ç‰©ä½“</li><li><strong>ç»†ç²’åº¦åˆ†ç±»</strong>: é’ˆå¯¹ç‰¹å®šç±»åˆ«çš„ç²¾ç»†åˆ†ç±»</li><li><strong>OCRæ–‡å­—è¯†åˆ«</strong>: è¯†åˆ«ç…§ç‰‡ä¸­çš„æ–‡å­—ä¿¡æ¯</li><li><strong>å“ç‰Œlogoè¯†åˆ«</strong>: è¯†åˆ«å•†æ ‡å’Œå“ç‰Œæ ‡è¯†</li></ul></li><li><p><strong>åœºæ™¯ç†è§£</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># åœºæ™¯åˆ†ç±»å’Œæè¿°ç”Ÿæˆ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> SceneAnalyzer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.scene_classifier </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> ResNet50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">pretrained</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">True</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.caption_model </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> BLIP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å›¾åƒæè¿°ç”Ÿæˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> analyze_scene</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åœºæ™¯åˆ†ç±»</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        scene_type </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">classify_scene</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(image)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ç”Ÿæˆè‡ªç„¶è¯­è¨€æè¿°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        caption </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.caption_model.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">generate_caption</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(image)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æå–å…³é”®ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        metadata </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">extract_metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(image)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;scene_type&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: scene_type,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;caption&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: caption,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;metadata&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: metadata</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æƒ…æ„Ÿåˆ†æ</strong>:</p><ul><li><strong>äººè„¸è¡¨æƒ…è¯†åˆ«</strong>: è¯†åˆ«å–œæ€’å“€ä¹ç­‰åŸºæœ¬æƒ…æ„Ÿ</li><li><strong>åœºæ™¯æƒ…æ„Ÿåˆ†æ</strong>: åˆ†æç…§ç‰‡æ•´ä½“æ°›å›´</li><li><strong>è‰²å½©æƒ…æ„Ÿ</strong>: åŸºäºè‰²å½©å¿ƒç†å­¦çš„æƒ…æ„Ÿåˆ†æ</li></ul></li></ul><h3 id="_2-4-æ™ºèƒ½åˆ†ç±»ä¸æ ‡ç­¾" tabindex="-1"><a class="header-anchor" href="#_2-4-æ™ºèƒ½åˆ†ç±»ä¸æ ‡ç­¾"><span>2.4. æ™ºèƒ½åˆ†ç±»ä¸æ ‡ç­¾</span></a></h3><ul><li><p><strong>è‡ªåŠ¨åˆ†ç±»ç³»ç»Ÿ</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ™ºèƒ½ç…§ç‰‡åˆ†ç±»å™¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> PhotoClassifier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.categories </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;people&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;family&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;friends&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;portrait&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;group&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;events&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wedding&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;birthday&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;graduation&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;travel&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;places&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;home&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;office&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;restaurant&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;nature&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &#39;activities&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;sports&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;cooking&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;reading&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;shopping&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> classify_photo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        results </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åŸºäºäººè„¸æ•°é‡åˆ†ç±»</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        face_count </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> len</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(metadata[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;faces&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> face_count </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            results[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;type&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;portrait&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        elif</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> face_count </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            results[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;type&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;group&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åŸºäºåœºæ™¯åˆ†ç±»</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        scene </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> metadata[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;scene_type&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        results[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;scene&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> scene</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # åŸºäºæ—¶é—´åˆ†ç±»</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        timestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> metadata[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;timestamp&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        results[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;time_period&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_time_period</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(timestamp)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> results</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ</strong>:</p><ul><li><strong>è§†è§‰æ ‡ç­¾</strong>: åŸºäºå›¾åƒå†…å®¹çš„æ ‡ç­¾</li><li><strong>æ—¶ç©ºæ ‡ç­¾</strong>: åŸºäºæ‹æ‘„æ—¶é—´å’Œåœ°ç‚¹çš„æ ‡ç­¾</li><li><strong>äººç‰©æ ‡ç­¾</strong>: åŸºäºäººè„¸è¯†åˆ«çš„äººç‰©æ ‡ç­¾</li><li><strong>æƒ…å¢ƒæ ‡ç­¾</strong>: åŸºäºäº‹ä»¶å’Œæ´»åŠ¨çš„æ ‡ç­¾</li></ul></li><li><p><strong>ä¸ªæ€§åŒ–åˆ†ç±»</strong>:</p><ul><li><strong>ç”¨æˆ·åå¥½å­¦ä¹ </strong>: å­¦ä¹ ç”¨æˆ·çš„åˆ†ç±»ä¹ æƒ¯</li><li><strong>è‡ªå®šä¹‰ç±»åˆ«</strong>: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰åˆ†ç±»ä½“ç³»</li><li><strong>å…³è”åˆ†æ</strong>: å‘ç°ç…§ç‰‡ä¹‹é—´çš„å…³è”å…³ç³»</li></ul></li></ul><h3 id="_2-5-æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_2-5-æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ"><span>2.5. æ™ºèƒ½æ£€ç´¢ç³»ç»Ÿ</span></a></h3><ul><li><p><strong>å¤šæ¨¡æ€æ£€ç´¢</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># å¤šæ¨¡æ€ç…§ç‰‡æ£€ç´¢å¼•æ“</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> PhotoSearchEngine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.text_encoder </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;"> CLIP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">load_text_encoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.image_encoder </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#D19A66;"> CLIP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">load_image_encoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.vector_db </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> FaissIndex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> search_by_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> query_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # æ–‡æœ¬è½¬å‘é‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        text_embedding </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.text_encoder.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">encode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(query_text)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å‘é‡æ£€ç´¢</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        similar_indices </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.vector_db.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(text_embedding, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_photos_by_indices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(similar_indices)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> search_by_image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> query_image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å›¾åƒè½¬å‘é‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        image_embedding </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.image_encoder.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">encode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(query_image)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ç›¸ä¼¼å›¾åƒæ£€ç´¢</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        similar_indices </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.vector_db.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(image_embedding, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_photos_by_indices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(similar_indices)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> search_by_face</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> face_image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # äººè„¸æ£€ç´¢</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        face_embedding </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.face_recognizer.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">extract_features</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(face_image)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        similar_faces </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.face_db.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(face_embedding)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get_photos_with_faces</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(similar_faces)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æ™ºèƒ½ç­›é€‰å™¨</strong>:</p><ul><li><strong>æ—¶é—´èŒƒå›´ç­›é€‰</strong>: æŒ‰å¹´æœˆæ—¥æ—¶é—´æ®µç­›é€‰</li><li><strong>åœ°ç†ä½ç½®ç­›é€‰</strong>: æŒ‰æ‹æ‘„åœ°ç‚¹ç­›é€‰</li><li><strong>äººç‰©ç­›é€‰</strong>: æŒ‰å‡ºç°äººç‰©ç­›é€‰</li><li><strong>è´¨é‡ç­›é€‰</strong>: æŒ‰ç…§ç‰‡è´¨é‡å’Œç¾æ„Ÿç­›é€‰</li></ul></li></ul><h3 id="_2-6-è‡ªåŠ¨æ•´ç†ä¸æ¨è" tabindex="-1"><a class="header-anchor" href="#_2-6-è‡ªåŠ¨æ•´ç†ä¸æ¨è"><span>2.6. è‡ªåŠ¨æ•´ç†ä¸æ¨è</span></a></h3><ul><li><p><strong>é‡å¤ç…§ç‰‡æ£€æµ‹</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># é‡å¤å’Œç›¸ä¼¼ç…§ç‰‡æ£€æµ‹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> DuplicateDetector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> __init__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.hasher </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> ImageHash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.similarity_threshold </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.85</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> find_duplicates</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> photo_list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        duplicates </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> []</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i, photo1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> enumerate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(photo_list):</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> j, photo2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> enumerate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(photo_list[i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:], i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                similarity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">calculate_similarity</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(photo1, photo2)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> similarity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.similarity_threshold:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                    duplicates.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((i, j, similarity))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> duplicates</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> suggest_best_photo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E5C07B;--shiki-dark-font-style:italic;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> duplicate_group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # ä»é‡å¤ç…§ç‰‡ä¸­æ¨èæœ€ä½³çš„ä¸€å¼ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        best_photo </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(duplicate_group, </span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">self</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.quality_score)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> best_photo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æ™ºèƒ½ç›¸å†Œç”Ÿæˆ</strong>:</p><ul><li><strong>ä¸»é¢˜ç›¸å†Œ</strong>: æŒ‰ä¸»é¢˜è‡ªåŠ¨ç”Ÿæˆç›¸å†Œ</li><li><strong>æ—¶å…‰ç›¸å†Œ</strong>: æŒ‰æ—¶é—´çº¿ç»„ç»‡çš„å›å¿†ç›¸å†Œ</li><li><strong>äººç‰©ç›¸å†Œ</strong>: ä¸ºæ¯ä¸ªäººç”Ÿæˆä¸“å±ç›¸å†Œ</li><li><strong>ç²¾é€‰é›†</strong>: AIæŒ‘é€‰çš„é«˜è´¨é‡ç…§ç‰‡é›†</li></ul></li><li><p><strong>ä¸ªæ€§åŒ–æ¨è</strong>:</p><ul><li><strong>å›å¿†æ¨é€</strong>: æ ¹æ®å†å²åŒæœŸæ¨é€æ—§ç…§ç‰‡</li><li><strong>ç›¸å…³æ¨è</strong>: åŸºäºå½“å‰æµè§ˆæ¨èç›¸å…³ç…§ç‰‡</li><li><strong>æ”¶è—å»ºè®®</strong>: æ¨èå€¼å¾—æ”¶è—çš„ç²¾å½©ç…§ç‰‡</li></ul></li></ul><h3 id="_2-7-ç”¨æˆ·ç•Œé¢è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_2-7-ç”¨æˆ·ç•Œé¢è®¾è®¡"><span>2.7. ç”¨æˆ·ç•Œé¢è®¾è®¡</span></a></h3><ul><li><p><strong>Webç•Œé¢å¼€å‘</strong>:</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Flask Webåº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> flask </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Flask, render_template, request, jsonify</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">app </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> Flask</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__name__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@app</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">route</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> render_template</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;gallery.html&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@app</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">route</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/search&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> methods</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;POST&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> search_photos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    query </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> request.json.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;query&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    results </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> photo_search_engine.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">search_by_text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(query)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> jsonify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(results)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@app</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">route</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/upload&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> methods</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;POST&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">def</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> upload_photos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">():</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    files </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> request.files.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">getlist</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;photos&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> file</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> files:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # å¤„ç†ä¸Šä¼ çš„ç…§ç‰‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">        process_uploaded_photo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;"> jsonify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;status&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;success&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç§»åŠ¨ç«¯é€‚é…</strong>:</p><ul><li><strong>å“åº”å¼è®¾è®¡</strong>: é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li><li><strong>è§¦æ‘¸æ‰‹åŠ¿</strong>: æ”¯æŒæ»‘åŠ¨ã€ç¼©æ”¾ç­‰æ‰‹åŠ¿æ“ä½œ</li><li><strong>ç¦»çº¿ç¼“å­˜</strong>: å…³é”®åŠŸèƒ½çš„ç¦»çº¿æ”¯æŒ</li></ul></li></ul><h3 id="_2-8-æ¨¡å‹éƒ¨ç½²ä¸ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-8-æ¨¡å‹éƒ¨ç½²ä¸ä¼˜åŒ–"><span>2.8. æ¨¡å‹éƒ¨ç½²ä¸ä¼˜åŒ–</span></a></h3><ul><li><p><strong>æ¨¡å‹è½¬æ¢ä¸éƒ¨ç½²</strong>:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># æ¨¡å‹è½¬æ¢æµç¨‹</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 1. äººè„¸è¯†åˆ«æ¨¡å‹è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">atc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --model=facenet.onnx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --framework=5</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output=facenet_ascend</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    --input_format=NCHW</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --input_shape=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;input:1,3,160,160&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    --soc_version=Ascend310B1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 2. ç‰©ä½“æ£€æµ‹æ¨¡å‹è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">atc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --model=yolov8.onnx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --framework=5</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output=yolov8_ascend</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    --input_format=NCHW</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --input_shape=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;images:1,3,640,640&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    --soc_version=Ascend310B1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 3. åœºæ™¯åˆ†ç±»æ¨¡å‹è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">atc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --model=resnet50.onnx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --framework=5</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output=resnet50_ascend</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    --input_format=NCHW</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --input_shape=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;input:1,3,224,224&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    --soc_version=Ascend310B1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</strong>:</p><ul><li><strong>æ‰¹å¤„ç†æ¨ç†</strong>: æ‰¹é‡å¤„ç†å¤šå¼ ç…§ç‰‡</li><li><strong>å¼‚æ­¥å¤„ç†</strong>: åå°å¼‚æ­¥åˆ†ææ–°ä¸Šä¼ ç…§ç‰‡</li><li><strong>ç¼“å­˜æœºåˆ¶</strong>: ç¼“å­˜åˆ†æç»“æœé¿å…é‡å¤è®¡ç®—</li><li><strong>å¢é‡æ›´æ–°</strong>: ä»…å¤„ç†æ–°å¢å’Œä¿®æ”¹çš„ç…§ç‰‡</li></ul></li></ul><h3 id="_2-9-æ•°æ®ç®¡ç†ä¸å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#_2-9-æ•°æ®ç®¡ç†ä¸å®‰å…¨"><span>2.9. æ•°æ®ç®¡ç†ä¸å®‰å…¨</span></a></h3><ul><li><p><strong>æ•°æ®åº“è®¾è®¡</strong>:</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç…§ç‰‡ä¿¡æ¯è¡¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> photos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    filename</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TEXT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    filepath </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    timestamp</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DATETIME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gps_latitude </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gps_longitude </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    image_hash </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    analysis_status </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äººè„¸ä¿¡æ¯è¡¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> faces</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    photo_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    person_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    bbox </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    embedding BLOB,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    confidence </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    FOREIGN KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (photo_id) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REFERENCES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> photos (id)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ ‡ç­¾ä¿¡æ¯è¡¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> tags</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    photo_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tag_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    tag_type </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    confidence </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    FOREIGN KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (photo_id) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">REFERENCES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> photos (id)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>éšç§ä¿æŠ¤</strong>:</p><ul><li><strong>æœ¬åœ°å¤„ç†</strong>: ç…§ç‰‡ä¸ä¸Šä¼ åˆ°äº‘ç«¯ï¼Œä¿æŠ¤éšç§</li><li><strong>è®¿é—®æ§åˆ¶</strong>: å¤šç”¨æˆ·æƒé™ç®¡ç†</li><li><strong>æ•°æ®åŠ å¯†</strong>: æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨</li><li><strong>å®‰å…¨å¤‡ä»½</strong>: å®šæœŸå®‰å…¨å¤‡ä»½é‡è¦æ•°æ®</li></ul></li></ul><h3 id="_2-10-ç”¨æˆ·æ‰‹å†Œ" tabindex="-1"><a class="header-anchor" href="#_2-10-ç”¨æˆ·æ‰‹å†Œ"><span>2.10. ç”¨æˆ·æ‰‹å†Œ</span></a></h3><h4 id="_2-10-1-ç³»ç»Ÿå®‰è£…" tabindex="-1"><a class="header-anchor" href="#_2-10-1-ç³»ç»Ÿå®‰è£…"><span>2.10.1 ç³»ç»Ÿå®‰è£…</span></a></h4><ol><li><strong>ç¡¬ä»¶è¿æ¥</strong>: è¿æ¥å­˜å‚¨è®¾å¤‡å’Œæ˜¾ç¤ºå™¨</li><li><strong>è½¯ä»¶å®‰è£…</strong>: è¿è¡Œç¯å¢ƒé…ç½®è„šæœ¬</li><li><strong>åˆå§‹åŒ–</strong>: åˆ›å»ºæ•°æ®åº“å’Œç›®å½•ç»“æ„</li><li><strong>æ¨¡å‹ä¸‹è½½</strong>: ä¸‹è½½é¢„è®­ç»ƒAIæ¨¡å‹</li></ol><h4 id="_2-10-2-ç…§ç‰‡å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_2-10-2-ç…§ç‰‡å¯¼å…¥"><span>2.10.2 ç…§ç‰‡å¯¼å…¥</span></a></h4><ol><li><strong>æ‰¹é‡å¯¼å…¥</strong>: ä»SDå¡æˆ–ç¡¬ç›˜æ‰¹é‡å¯¼å…¥</li><li><strong>å®æ—¶æ‹æ‘„</strong>: ä½¿ç”¨æ‘„åƒå¤´å®æ—¶æ‹ç…§</li><li><strong>æ‰«æå¯¼å…¥</strong>: æ‰«æçº¸è´¨ç…§ç‰‡æ•°å­—åŒ–</li><li><strong>ç½‘ç»œåŒæ­¥</strong>: ä»äº‘å­˜å‚¨åŒæ­¥ç…§ç‰‡</li></ol><h4 id="_2-10-3-æ™ºèƒ½åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_2-10-3-æ™ºèƒ½åˆ†æ"><span>2.10.3 æ™ºèƒ½åˆ†æ</span></a></h4><ol><li><strong>è‡ªåŠ¨åˆ†æ</strong>: åå°è‡ªåŠ¨åˆ†ææ–°ç…§ç‰‡</li><li><strong>æ‰‹åŠ¨æ ‡æ³¨</strong>: ç”¨æˆ·æ‰‹åŠ¨è¡¥å……æ ‡ç­¾ä¿¡æ¯</li><li><strong>äººè„¸è®­ç»ƒ</strong>: è®­ç»ƒä¸ªäººä¸“å±äººè„¸æ¨¡å‹</li><li><strong>è´¨é‡è¯„ä¼°</strong>: è¯„ä¼°å’Œç­›é€‰é«˜è´¨é‡ç…§ç‰‡</li></ol><h4 id="_2-10-4-æ£€ç´¢ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-10-4-æ£€ç´¢ä½¿ç”¨"><span>2.10.4 æ£€ç´¢ä½¿ç”¨</span></a></h4><ol><li><strong>æ–‡æœ¬æœç´¢</strong>: ä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿°æœç´¢</li><li><strong>å›¾åƒæœç´¢</strong>: ä¸Šä¼ å›¾ç‰‡æœç´¢ç›¸ä¼¼ç…§ç‰‡</li><li><strong>äººè„¸æœç´¢</strong>: æœç´¢åŒ…å«ç‰¹å®šäººç‰©çš„ç…§ç‰‡</li><li><strong>é«˜çº§ç­›é€‰</strong>: ä½¿ç”¨å¤šç§æ¡ä»¶ç»„åˆç­›é€‰</li></ol><h2 id="_3-æºä»£ç ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_3-æºä»£ç ç»“æ„"><span>3. æºä»£ç ç»“æ„</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>smart_album/</span></span>
<span class="line"><span>â”œâ”€â”€ src/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ analysis/           # å›¾åƒåˆ†ææ¨¡å—</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ face_recognition/</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ object_detection/</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ scene_analysis/</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ emotion_analysis/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ search/             # æ£€ç´¢æ¨¡å—</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ text_search/</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ image_search/</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ vector_db/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ classification/     # åˆ†ç±»æ¨¡å—</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ auto_classify/</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ tag_generation/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ web/               # Webç•Œé¢</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ templates/</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ static/</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ api/</span></span>
<span class="line"><span>â”‚   â””â”€â”€ utils/             # å·¥å…·æ¨¡å—</span></span>
<span class="line"><span>â”œâ”€â”€ models/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ face_models/       # äººè„¸ç›¸å…³æ¨¡å‹</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ object_models/     # ç‰©ä½“æ£€æµ‹æ¨¡å‹</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ scene_models/      # åœºæ™¯åˆ†ææ¨¡å‹</span></span>
<span class="line"><span>â”‚   â””â”€â”€ text_models/       # æ–‡æœ¬å¤„ç†æ¨¡å‹</span></span>
<span class="line"><span>â”œâ”€â”€ database/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ schema.sql         # æ•°æ®åº“ç»“æ„</span></span>
<span class="line"><span>â”‚   â””â”€â”€ migrations/        # æ•°æ®åº“è¿ç§»</span></span>
<span class="line"><span>â”œâ”€â”€ configs/</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ models.yaml        # æ¨¡å‹é…ç½®</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ database.yaml      # æ•°æ®åº“é…ç½®</span></span>
<span class="line"><span>â”‚   â””â”€â”€ app.yaml          # åº”ç”¨é…ç½®</span></span>
<span class="line"><span>â””â”€â”€ tests/</span></span>
<span class="line"><span>    â”œâ”€â”€ unit_tests/        # å•å…ƒæµ‹è¯•</span></span>
<span class="line"><span>    â””â”€â”€ integration_tests/ # é›†æˆæµ‹è¯•</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-æ•ˆæœæ¼”ç¤º" tabindex="-1"><a class="header-anchor" href="#_4-æ•ˆæœæ¼”ç¤º"><span>4. æ•ˆæœæ¼”ç¤º</span></a></h2><ul><li><strong>æ™ºèƒ½åˆ†ç±»å±•ç¤º</strong>: è‡ªåŠ¨å°†ç…§ç‰‡æŒ‰äººç‰©ã€åœºæ™¯ã€äº‹ä»¶åˆ†ç±»</li><li><strong>äººè„¸è¯†åˆ«æ¼”ç¤º</strong>: è¯†åˆ«å’Œèšç±»ç…§ç‰‡ä¸­çš„ä¸åŒäººç‰©</li><li><strong>æ™ºèƒ½æœç´¢ä½“éªŒ</strong>: ä½¿ç”¨è‡ªç„¶è¯­è¨€æœç´¢ç‰¹å®šç…§ç‰‡</li><li><strong>è‡ªåŠ¨ç›¸å†Œç”Ÿæˆ</strong>: æ ¹æ®ä¸»é¢˜è‡ªåŠ¨ç”Ÿæˆç²¾ç¾ç›¸å†Œ</li><li><strong>é‡å¤ç…§ç‰‡æ¸…ç†</strong>: æ£€æµ‹å¹¶å»ºè®®åˆ é™¤é‡å¤å’Œä½è´¨é‡ç…§ç‰‡</li></ul></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/9/4 22:55:45</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: zhouxzh@gdut.edu.cn">zhouxzh</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/Ascend310/experiment/case6.html" aria-label="æ¡ˆä¾‹6ï¼šæ™ºèƒ½å°è½¦" iconsizing="both"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->æ¡ˆä¾‹6ï¼šæ™ºèƒ½å°è½¦</div></a><a class="route-link auto-link next" href="/Ascend310/experiment/case8.html" aria-label="æ¡ˆä¾‹8ï¼šæ‰‹åŠ¿è¯†åˆ«" iconsizing="both"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">æ¡ˆä¾‹8ï¼šæ‰‹åŠ¿è¯†åˆ«<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/Ascend310/assets/app-qOQMBkXC.js" defer></script>
  </body>
</html>
