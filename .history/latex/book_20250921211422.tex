% !TEX program = xelatex
% 使用 XeLaTeX 编译
\documentclass[fontsize=12pt, paper=a4, oneside, DIV=calc]{scrbook}

% 基本设置
\usepackage[UTF8]{ctex} % 中文支持
\usepackage{fontspec} % 字体设置
\usepackage{xeCJK} % 中日韩文字支持

% 设置默认字体为无衬线体（思源黑体）
% 中文/英文字体配对：正文用思源宋体（Noto Serif CJK SC）+ Noto Serif，标题用思源黑体（Noto Sans CJK SC）+ Noto Sans，等宽用 Noto Sans Mono CJK SC

\setCJKmainfont{Noto Serif CJK SC}[Scale=MatchLowercase, AutoFakeSlant = 0.15]        % 正文字体（衬线 / 宋体样式）
\setCJKsansfont{Noto Sans CJK SC}[Scale=MatchLowercase, AutoFakeSlant = 0.15] % 无衬线（适合章节标题、图例）
\setCJKmonofont{Noto Sans Mono CJK SC}[Scale=MatchLowercase] % 等宽字体（代码、表格）

% 页面布局和外观设置
\usepackage[automark,headsepline]{scrlayer-scrpage} % 页眉页脚
\clearpairofpagestyles
\ohead{\headmark} % 页眉显示章节名
\ofoot[\pagemark]{\pagemark} % 页脚显示页码

% 数学相关包
\usepackage{amsmath, amssymb, amsthm}

% 图形和颜色
\usepackage{graphicx}
\usepackage{xcolor}
\definecolor{mainblue}{RGB}{0, 90, 156}

\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{calc} % 提供增强的计算功能
% 为 Pandoc 片段提供安全的宏定义，避免 Undefined control sequence
\usepackage{graphicx}
\usepackage{listings}
\usepackage{textcomp}

\providecommand{\passthrough}[1]{#1}
% 保证只有在未定义时才提供，避免覆盖模板已有定义
\providecommand{\passthrough}[1]{#1}
\providecommand{\tightlist}{\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
% 自动限制图片不超出行宽并保持纵横比
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth \linewidth \else \Gin@nat@width\fi}
\makeatother
\setkeys{Gin}{width=\maxwidth,keepaspectratio}

% 如果希望 pandoc 生成的 \pandocbounded 包裹为 figure 环境：
\providecommand{\pandocbounded}[1]{\begin{center}#1\end{center}} % 或者 \providecommand{\pandocbounded}[1]{#1}

\usepackage{enumitem}
\setlist{nosep} % 去掉列表间距
% 超链接设置
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=mainblue,
    citecolor=mainblue,
    urlcolor=mainblue,
    pdftitle={昇腾310B实战——从入门到精通边缘计算与人工智能},
    pdfauthor={周贤中}
}

% 定理环境设置
\newtheoremstyle{break}
  {\topsep}{\topsep}%
  {\itshape}{}%
  {\bfseries}{}%
  {\newline}{}%
\theoremstyle{break}
\newtheorem{theorem}{定理}[chapter]
\newtheorem{lemma}[theorem]{引理}
\newtheorem{proposition}[theorem]{命题}
\newtheorem{corollary}[theorem]{推论}
\newtheorem{definition}[theorem]{定义}
\newtheorem{example}[theorem]{例子}
\newtheorem{remark}[theorem]{注记}

% 文档信息
\title{昇腾310B实战\\从入门到精通边缘计算与人工智能}
\author{周贤中}
\date{\today}

% 文档内容开始
\begin{document}

% 封面页
\maketitle

% 前言页
\frontmatter
\chapter*{前言}
\input{chapters/chapter0.tex}


% 目录
\tableofcontents

% 主内容开始
\mainmatter


% 第一章
\chapter{昇腾310B边缘计算基础}
\input{chapters/chapter1.tex}

% 第二章
\chapter{CANN 软件栈核心与模型转换全流程}
\input{chapters/chapter2.tex}

% 第三章
\chapter{昇腾310B算子开发基础}
\input{chapters/chapter3.tex}

% 第四章
\chapter{典型模型部署实践}
\input{chapters/chapter4.tex}

% 第五章
\chapter{性能与算子优化初阶}
\input{chapters/chapter5.tex}

% 第六章
\chapter{系统工程与高可用部署}
\input{chapters/chapter6.tex}

% 第七章
\chapter{项目实战方法论与交付模板}
\input{chapters/chapter7.tex}

% 第八章
\chapter{合实战案例集}
\input{chapters/chapter8.tex}

% 第九章
\chapter{附录与工具箱}
\input{chapters/chapter9.tex}

% 第十章
\chapter{导读与准备工作}
\input{chapters/chapter10.tex}

% 案例0
\chapter{案例0：初步使用开发板}
\input{cases/case0.tex}

% 案例1
\chapter{案例1：智能人脸识别打卡机}
\input{cases/case1.tex}

% 案例2
\chapter{案例2：基于昇腾310B的多目标实时跟踪系统}
\input{cases/case2.tex}

% 案例3
\chapter{案例3：智能电子琴}
\input{cases/case3.tex}

% 参考文献
% \backmatter
% \chapter{参考文献}

% \nocite{*} % 显示所有参考文献，即使未被引用
% \bibliographystyle{plain} % 参考文献样式
% \bibliography{references} % 参考文献数据库

% % 附录
% \appendix
% \chapter{附录标题}

% 这里是附录内容。

\end{document}