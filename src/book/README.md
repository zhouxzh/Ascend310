# 理论教程

---

书名中的 “实战”，核心是 “在编程实践中学习”。本书作为昇腾310B芯片的入门指南，将跳出单纯的理论讲解，通过真实的AI推理部署案例，带读者直观理解昇腾310B的硬件架构特性、Atlas工具链使用逻辑与端侧AI项目开发流程 —— 从模型适配、量化优化到推理服务部署，每一个知识点都配套可落地的代码示例，让读者在动手编码的过程中，真正掌握昇腾310B的实战应用能力，实现从 “了解芯片” 到 “能用芯片落地项目” 的跨越。

## 本书定位与目标读者

本书面向以下三类读者：
- **高校学生 / 科研新人**：希望通过一套系统化路径快速理解边缘AI硬件与部署流程。
- **嵌入式 / IoT 工程师**：已有一定Linux / C / Python基础，希望把AI模型真正跑在边缘端并做性能调优。
- **AI应用开发者 / 创客**：已经能使用主流深度学习框架，希望将训练好的模型迁移到昇腾310B进行高效推理与产品化落地。

阅读预期：
- 零基础读者可依照“快速起步路径”完成第1~3章+精选案例；
- 进阶读者可继续深入算子优化、系统整合与复杂多模型协同部署；
- 有项目诉求的团队可参考“方法论 + 附录模板”直接搭建属于自己的边缘AI应用。

## 学习路径速览（建议路线）
1. 环境 + 工具链：硬件认知 → 开发环境装配 → CANN工具初试
2. 基础模型部署：图像分类→ 目标检测 → 语义分割 / OCR / NLP
3. 性能优化：模型结构裁剪 → 精度-性能权衡（FP16 / INT8）→ 并行与pipeline
4. 低级能力：自定义算子 → Profiling → ACL / GE 原理 → 内存与数据通路调优
5. 系统构建：多进程/多模型协同 → 任务调度 → 监控与日志体系
6. 实战案例：从需求分析 → 方案设计 → 模型适配 → 部署脚本 → 交付验收

## 全书结构（初版规划）

| 模块 | 章节标题 | 内容聚焦 | 读者收益 |
| :-- | :-- | :-- | :-- |
| Part 0 | 导读与准备 | 芯片特性、开发形态、学习地图 | 建立整体心智模型 |
| Part 1 | 昇腾310B硬件与环境 | 硬件结构、固件、驱动、系统配置、容器化 | 能独立搭建可复现环境 |
| Part 2 | CANN 软件栈核心 | CANN组件、ATC模型转换、OM模型结构、ACL编程 | 掌握模型从框架到OM全过程 |
| Part 3 | 边缘计算基础 | 边缘计算价值、典型架构、数据流、协同模式 | 会做架构选型与资源拆分 |
| Part 4 | 模型部署实战 | 分类/检测/NLP/多模态部署、性能测试、批处理与流式 | 会把主流任务完整迁移上板 |
| Part 5 | 性能与算子优化 | Profiler使用、数据对齐、算子融合、自定义算子开发 | 会定位瓶颈并提升帧率/延迟 |
| Part 6 | 系统工程方法 | 多模型编排、任务调度、异常恢复、日志与监控 | 会构建工程级可维护部署系统 |
| Part 7 | 项目实战方法论 | 需求拆解、Baseline迭代、评测体系、交付模板 | 会组织团队快速交付边缘AI项目 |
| Part 8 | 典型综合案例 | 9个端侧AI实战案例（与 experiments 配套） | 迁移复用案例形成生产力 |
| Part 9 | 附录与工具 | FAQ、性能Checklist、脚手架模板、术语表 | 快速检索与复用加速迭代 |

## 各模块核心要点概述

### Part 1 昇腾310B硬件与环境
- SoC架构（昇腾AI Core、内存层次、带宽特性）
- 开发板接口与外设（摄像头/存储/网络）
- 固件刷新 & 系统初始化
- Docker / 容器化开发与远程调试

### Part 2 CANN 软件栈与模型转换
- CANN组件：Driver / Runtime / Compiler / Toolkit
- ATC模型转换参数详解（shape、输入格式、最优算子选择）
- OM模型结构与可视化
- ACL编程流程（初始化 → 内存 → 推理 → 释放）
- 常见错误（推理精度损失 / 内存不足 / 算子不支持）定位

### Part 3 边缘计算原理
- 边云协同模式：云训练 + 边缘推理
- 数据生命周期：采集→预处理→推理→缓存→上报
- 典型架构模式（单板/多板/异构协同）
- 边缘QoS：功耗、热设计、延迟、稳定性

### Part 4 模型部署与优化实践
- 图像分类（ResNet / MobileNet）
- 目标检测（YOLO / FasterRCNN）
- OCR & NLP（文本检测 + 轻量文本识别 / 中文BERT推理）
- 多模型串联（检测→裁剪→分类）Pipeline设计
- 精度 vs. 性能：Batch、FP16、算子融合、降采样策略

### Part 5 低级算子与性能调优
- Profiling 工具使用（时间线 / 算子耗时 / 内存峰值）
- 数据对齐与内存复用策略
- 常用自定义算子开发模板（算子描述 → 编译 → 集成）
- 典型瓶颈案例：数据搬运 > 计算、Host/Device同步等待

### Part 6 系统集成与工程实践
- 任务调度（多进程、多线程、异步队列）
- 资源隔离与监控（显存 / Host内存 / 温度 / 带宽）
- 高可用设计：看门狗、超时熔断、故障降级
- 交付形态：容器镜像 / 一键部署脚本 / OTA升级

### Part 7 项目实战方法论
- 需求澄清 & 场景指标设定（Latency / FPS / Accuracy / Power）
- Baseline快速验证：裁剪 vs. 重构 vs. 迁移
- 评测体系：功能、性能、稳定性、可维护性
- SRE视角的上线准备 Checklist

### Part 8 综合实战案例（与 `src/experiment` 配套）
包含 9 大可复现案例：人脸打卡机、实时跟踪、智能电子琴、掌纹识别、数据采集仪、智能小车、智能相册、手势识别、聊天机器人。每个案例均提供：
- 需求说明 & 功能结构图
- 模型与数据选择依据
- 转换 & 部署脚本
- 性能测试报告（延迟 / 吞吐 / 资源占用）
- 可选 3D 打印结构件与装配说明

### Part 9 附录与工具箱
- 常见报错速查表（ATC / ACL / Runtime）
- 模型转换与部署参数模板
- 性能调优Checklist（内存 / 数据流 / 并行 / 算子）
- 术语表 / 推荐资料 / 贡献指南

## 实践驱动与开源协作
本书所有示例代码、脚本、案例与附录工具均开源托管于本仓库。欢迎通过 Issue / PR 反馈问题、提交改进、补充案例或翻译。我们鼓励：
- 增补新模型 / 新任务的部署范式
- 分享自定义算子优化经验
- 提交性能测试报告（含硬件信息 + 指标）
- 翻译与文档校对

## 如何使用本书
| 读者类型 | 推荐阅读路径 | 目标 | 补充建议 |
| :-- | :-- | :-- | :-- |
| 零基础学生 | Part1 → Part2 → Part4(入门任务) | 能跑通首个模型 | 结合案例做改动实验 |
| 嵌入式工程师 | Part1 → Part2 → Part5 → Part6 | 掌握部署与优化 | 关注资源与稳定性章节 |
| AI应用开发者 | Part2 → Part4 → Part7 → Part8 | 快速场景落地 | 记录调参与性能差异 |
| 技术负责人 | Part0 → Part3 → Part6 → Part7 | 构建团队方法论 | 制定内部模板体系 |

## 更新与版本计划
- v0.1（当前）：结构规划 + 前3章草稿 + 2个示例案例
- v0.3：补齐核心部署链路 + 性能调优初稿
- v0.6：全案例上线 + 工程化章节完善
- v1.0：补齐附录 + 全面审校 + PDF / LaTeX 发行

## 许可证与引用
本书内容采用 Apache 2.0 许可证。引用本书内容请注明：
> 《昇腾310B实战：从入门到精通边缘计算与人工智能》（GitHub: zhouxzh/Ascend310）

---

欢迎加入共建，一起把“边缘AI实战”这件事做成！